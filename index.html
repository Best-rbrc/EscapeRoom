<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NimbusDrive ‚Äì Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Code+Pro:wght@500&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: light dark;
        --bg-gradient: radial-gradient(circle at 20% 20%, rgba(91, 182, 255, 0.35), transparent 55%),
          radial-gradient(circle at 80% 0%, rgba(120, 80, 255, 0.45), transparent 45%),
          linear-gradient(135deg, #0f172a, #1f2937);
        --card-bg: rgba(255, 255, 255, 0.95);
        --card-bg-dark: rgba(15, 23, 42, 0.86);
        --text-color: #0f172a;
        --text-color-dark: #f8fafc;
        --accent: #4f46e5;
        --accent-soft: rgba(79, 70, 229, 0.12);
        --success: #10b981;
        --danger: #ef4444;
        --border-color: rgba(148, 163, 184, 0.35);
        --backdrop: rgba(15, 23, 42, 0.55);
        --glass-border: rgba(255, 255, 255, 0.28);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 3rem 1.5rem;
        background: var(--bg-gradient);
        font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        color: var(--text-color);
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: '';
        position: absolute;
        inset: 0;
        background: url('https://grainy-gradients.vercel.app/noise.svg');
        opacity: 0.18;
        pointer-events: none;
      }

      body.light {
        background: linear-gradient(145deg, #eef2ff, #dbeafe);
      }

      .app-shell {
        position: relative;
        width: min(1100px, 100%);
        display: grid;
        gap: 2.5rem;
        align-items: center;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        z-index: 1;
      }

      .hero {
        color: #f8fafc;
        padding: 0 0.5rem;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.25rem 0.75rem;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.12);
        font-size: 0.85rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }

      .badge span {
        display: inline-block;
        width: 0.6rem;
        height: 0.6rem;
        border-radius: 999px;
        background: #34d399;
        box-shadow: 0 0 0 4px rgba(52, 211, 153, 0.28);
      }

      .hero h1 {
        font-size: clamp(2.35rem, 4vw, 3.5rem);
        margin: 1.25rem 0 1rem;
        line-height: 1.1;
        font-weight: 700;
      }

      .hero p {
        font-size: 1.05rem;
        line-height: 1.7;
        max-width: 38ch;
        color: rgba(226, 232, 240, 0.88);
      }

      .card {
        background: var(--card-bg);
        color: var(--text-color);
        border-radius: 22px;
        padding: 2.5rem 2.25rem;
        box-shadow: 0 20px 45px rgba(15, 23, 42, 0.25);
        border: 1px solid rgba(148, 163, 184, 0.18);
        backdrop-filter: blur(14px);
      }

      @media (prefers-color-scheme: dark) {
        body {
          color: var(--text-color-dark);
        }

        .card {
          background: var(--card-bg-dark);
          color: var(--text-color-dark);
          border-color: var(--glass-border);
        }

        .hero p {
          color: rgba(226, 232, 240, 0.72);
        }
      }

      .card h2 {
        margin-top: 0;
        margin-bottom: 0.85rem;
        font-size: 1.75rem;
        font-weight: 600;
      }

      .card p {
        margin: 0 0 1.5rem;
        color: rgba(71, 85, 105, 0.85);
      }

      label {
        font-size: 0.95rem;
        font-weight: 500;
        display: block;
        margin-bottom: 0.4rem;
      }

      input[type='text'],
      input[type='password'],
      input[type='password']::placeholder {
        font-family: 'Inter', sans-serif;
      }

      input[type='text'],
      input[type='password'] {
        width: 100%;
        padding: 0.85rem 1rem;
        border-radius: 14px;
        border: 1px solid rgba(148, 163, 184, 0.45);
        background: rgba(248, 250, 252, 0.92);
        font-size: 1rem;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
      }

      input[type='text']:focus,
      input[type='password']:focus {
        outline: none;
        border-color: rgba(79, 70, 229, 0.8);
        box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.18);
      }

      .actions {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        margin-top: 1.75rem;
      }

      button {
        font-family: 'Inter', sans-serif;
        font-size: 1rem;
        border-radius: 14px;
        border: none;
        cursor: pointer;
        padding: 0.85rem 1rem;
        font-weight: 600;
        transition: transform 0.18s ease, box-shadow 0.18s ease;
      }

      button.primary {
        background: linear-gradient(135deg, #4f46e5, #6366f1);
        color: white;
        box-shadow: 0 16px 30px rgba(79, 70, 229, 0.35);
      }

      button.primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 40px rgba(79, 70, 229, 0.45);
      }

      button.secondary {
        background: rgba(99, 102, 241, 0.1);
        color: #4f46e5;
      }

      button.secondary:hover {
        background: rgba(99, 102, 241, 0.18);
      }

      .helper {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        margin-top: 1rem;
        font-size: 0.9rem;
        color: rgba(71, 85, 105, 0.85);
      }

      .helper button {
        font-size: 0.9rem;
        padding: 0.5rem 0.75rem;
        background: transparent;
        color: #4f46e5;
        font-weight: 600;
        transition: color 0.2s ease;
      }

      .helper button:hover {
        color: #4338ca;
      }

      .message {
        margin-top: 1rem;
        padding: 0.75rem 0.85rem;
        border-radius: 12px;
        font-size: 0.95rem;
        display: none;
      }

      .message.success {
        display: block;
        background: rgba(16, 185, 129, 0.12);
        border: 1px solid rgba(16, 185, 129, 0.35);
        color: #047857;
      }

      .message.error {
        display: block;
        background: rgba(239, 68, 68, 0.12);
        border: 1px solid rgba(239, 68, 68, 0.3);
        color: #b91c1c;
      }

      .file-explorer {
        display: none;
      }

      .file-explorer.active {
        display: block;
        animation: fadeIn 0.5s ease;
      }

      .breadcrumbs {
        display: flex;
        align-items: center;
        gap: 0.4rem;
        font-size: 0.9rem;
        color: rgba(71, 85, 105, 0.75);
        margin-bottom: 1.75rem;
      }

      .breadcrumbs span:last-child {
        color: rgba(79, 70, 229, 0.9);
        font-weight: 600;
      }

      .file-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 1.25rem;
      }

      .file-card {
        padding: 1.5rem 1.2rem;
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.22);
        background: rgba(255, 255, 255, 0.9);
        box-shadow: 0 12px 25px rgba(15, 23, 42, 0.08);
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        transition: transform 0.18s ease, box-shadow 0.18s ease;
        color: inherit;
        text-decoration: none;
      }

      .file-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 18px 35px rgba(79, 70, 229, 0.2);
      }

      .file-icon {
        width: 42px;
        height: 42px;
        border-radius: 14px;
        display: grid;
        place-items: center;
        background: var(--accent-soft);
        color: #4338ca;
      }

      .file-icon.folder {
        background: rgba(16, 185, 129, 0.12);
        color: #047857;
      }

      .file-card h3 {
        margin: 0;
        font-size: 1.05rem;
        font-weight: 600;
      }

      .file-card p {
        margin: 0;
        font-size: 0.85rem;
        color: rgba(71, 85, 105, 0.7);
      }

      .hidden {
        display: none !important;
      }

      .modal-backdrop {
        position: fixed;
        inset: 0;
        background: var(--backdrop);
        backdrop-filter: blur(8px);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.25s ease;
        z-index: 10;
      }

      .modal-backdrop.active {
        opacity: 1;
        pointer-events: all;
      }

      .modal {
        position: fixed;
        inset: 0;
        display: grid;
        place-items: center;
        padding: 2rem 1.25rem;
        z-index: 20;
        pointer-events: none;
      }

      .modal.active {
        pointer-events: all;
      }

      .modal-card {
        width: min(520px, 100%);
        background: var(--card-bg);
        color: inherit;
        border-radius: 24px;
        padding: 2.5rem;
        box-shadow: 0 25px 60px rgba(15, 23, 42, 0.35);
        border: 1px solid rgba(148, 163, 184, 0.22);
        transform: translateY(24px);
        opacity: 0;
        transition: transform 0.3s ease, opacity 0.3s ease;
      }

      .modal.active .modal-card {
        transform: translateY(0);
        opacity: 1;
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1.5rem;
      }

      .modal-header h2 {
        margin: 0;
        font-size: 1.6rem;
      }

      .modal-close {
        background: rgba(148, 163, 184, 0.12);
        width: 38px;
        height: 38px;
        border-radius: 50%;
        display: grid;
        place-items: center;
        color: rgba(71, 85, 105, 0.85);
      }

      .modal-close:hover {
        background: rgba(148, 163, 184, 0.18);
      }

      .support-option {
        margin-top: 1.5rem;
        padding: 1.25rem 1.5rem;
        border-radius: 18px;
        border: 1px dashed rgba(99, 102, 241, 0.45);
        background: rgba(99, 102, 241, 0.08);
      }

      .support-option p {
        margin: 0 0 1rem;
        color: rgba(71, 85, 105, 0.8);
      }

      .call-interface {
        margin-top: 1.75rem;
        padding: 1.5rem;
        border-radius: 18px;
        background: rgba(15, 23, 42, 0.82);
        color: white;
        border: 1px solid rgba(148, 163, 184, 0.2);
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .call-status {
        font-family: 'Source Code Pro', monospace;
        font-size: 0.95rem;
        color: #a5b4fc;
      }

      audio {
        width: 100%;
      }

      .transcript {
        max-height: 180px;
        overflow-y: auto;
        background: rgba(15, 23, 42, 0.6);
        padding: 1rem;
        border-radius: 14px;
        font-size: 0.95rem;
        line-height: 1.6;
      }

      .transcript p {
        margin: 0 0 0.75rem;
      }

      .transcript p span {
        display: inline-block;
        margin-right: 0.5rem;
        font-weight: 600;
        color: #fbbf24;
      }

      .api-key-input {
        display: flex;
        gap: 0.75rem;
        align-items: center;
        margin-top: 1rem;
      }

      .api-key-input input {
        flex: 1;
        border-radius: 12px;
        padding: 0.65rem 0.9rem;
        border: 1px solid rgba(148, 163, 184, 0.35);
        background: rgba(255, 255, 255, 0.9);
        font-family: 'Source Code Pro', monospace;
      }

      .api-key-input button {
        padding: 0.65rem 1rem;
        border-radius: 12px;
        font-size: 0.95rem;
        background: rgba(79, 70, 229, 0.18);
        color: #312e81;
      }

      .api-key-hint {
        font-size: 0.75rem;
        color: rgba(226, 232, 240, 0.7);
      }

      .cta-row {
        display: flex;
        gap: 0.75rem;
        margin-top: 2rem;
      }

      .cta-row button {
        flex: 1;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @media (max-width: 768px) {
        body {
          padding-top: 4.5rem;
        }

        .hero {
          text-align: center;
        }

        .hero p {
          margin: 0 auto;
        }

        .helper {
          flex-direction: column;
        }

        .card {
          padding: 2.25rem 2rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <section class="hero">
        <div class="badge"><span></span>NimbusDrive</div>
        <h1>Sichere Dateien in der Wolke ‚Äì ohne Wartezeit.</h1>
        <p>
          Willkommen zur NimbusDrive Experience. Testen Sie unser neues Cloud-Drive-Interface,
          erleben Sie einen menschlichen (wenn auch simulierten) Support-Call und gelangen Sie in
          wenigen Schritten zu den wichtigsten Dokumenten.
        </p>
        <div class="cta-row">
          <button class="secondary" type="button">Kostenlose Demo</button>
          <button class="secondary" type="button">Erste Schritte</button>
        </div>
      </section>

      <section class="card" id="login-card">
        <h2>Login</h2>
        <p>Melden Sie sich an, um Zugriff auf Ihre wichtigsten Dateien zu erhalten.</p>
        <form id="login-form" autocomplete="off">
          <div class="form-field">
            <label for="username">Benutzername</label>
            <input id="username" type="text" name="username" placeholder="z. B. Robin12345" />
          </div>
          <div class="form-field" style="margin-top: 1.25rem">
            <label for="password">Passwort</label>
            <input id="password" type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
          </div>
          <div class="helper">
            <span>Probleme beim Anmelden?</span>
            <button id="forgot-btn" type="button">Benutzernamen vergessen?</button>
          </div>
          <div class="actions">
            <button type="submit" class="primary">Anmelden</button>
          </div>
        </form>
        <div class="message" id="feedback"></div>
      </section>

      <section class="card file-explorer" id="file-explorer">
        <h2>Dateien</h2>
        <p>Sie sind nun verbunden. Willkommen zur√ºck!</p>
        <div class="breadcrumbs">
          <span>NimbusDrive</span>
          <span>‚Ä∫</span>
          <span>Wichtig</span>
        </div>
        <div class="file-grid">
          <div class="file-card">
            <div class="file-icon folder">üìÅ</div>
            <div>
              <h3>Wichtig</h3>
              <p>Geheime Notizen ‚Ä¢ Zuletzt ge√§ndert: heute</p>
            </div>
          </div>
          <a class="file-card" href="assets/VeryImportantFile.pdf" target="_blank">
            <div class="file-icon">üìÑ</div>
            <div>
              <h3>VeryImportantFile.pdf</h3>
              <p>Dummy PDF ‚Ä¢ 28 KB</p>
            </div>
          </a>
        </div>
      </section>
    </div>

    <div class="modal-backdrop" id="modal-backdrop"></div>
    <div class="modal" id="support-modal" aria-hidden="true">
      <div class="modal-card" role="dialog" aria-modal="true">
        <div class="modal-header">
          <h2>Account-Support</h2>
          <button class="modal-close" id="modal-close" aria-label="Modal schlie√üen">‚úï</button>
        </div>
        <p>
          Lassen Sie sich vom NimbusDrive-Support anrufen und erfahren Sie Ihren Benutzernamen. Die
          Verbindung nutzt die OpenAI Realtime API, um eine authentische Stimme bereitzustellen.
        </p>
        <div class="support-option">
          <p>Simulierter Anruf mit Echtzeit-Sprach-Antwort.</p>
          <button class="primary" id="start-call">Support anrufen (Simulation)</button>
        </div>
        <div class="api-key-input">
          <input
            type="password"
            id="api-key"
            placeholder="OpenAI API Key hier einf√ºgen"
            autocomplete="off"
          />
          <button type="button" id="save-key">Speichern</button>
        </div>
        <p class="api-key-hint">
          Der Schl√ºssel wird lokal (localStorage) gespeichert und nur zur direkten Verbindung mit der
          OpenAI Realtime API verwendet.
        </p>
        <div class="call-interface hidden" id="call-interface">
          <div class="call-status" id="call-status">Bereit f√ºr den Anruf ‚Ä¶</div>
          <audio id="support-audio" controls autoplay></audio>
          <div class="transcript" id="transcript" aria-live="polite"></div>
          <button class="secondary" id="end-call" type="button">Anruf beenden</button>
        </div>
      </div>
    </div>

    <script>
      const VALID_USERNAME = 'Robin12345';
      const VALID_PASSWORD = 'Nimbus!2024';
      const SQLI_TRIGGERS = [
        /'\s*OR\s*'1'='1/i,
        /"\s*OR\s*"1"="1/i,
        /or\s+1=1/i,
        /'\s*--/,
        /;\s*--/,
      ];

      const loginForm = document.getElementById('login-form');
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const feedback = document.getElementById('feedback');
      const fileExplorer = document.getElementById('file-explorer');
      const loginCard = document.getElementById('login-card');
      const forgotBtn = document.getElementById('forgot-btn');
      const modal = document.getElementById('support-modal');
      const backdrop = document.getElementById('modal-backdrop');
      const modalClose = document.getElementById('modal-close');
      const startCallBtn = document.getElementById('start-call');
      const callInterface = document.getElementById('call-interface');
      const callStatus = document.getElementById('call-status');
      const transcript = document.getElementById('transcript');
      const endCallBtn = document.getElementById('end-call');
      const audioEl = document.getElementById('support-audio');
      const apiKeyInput = document.getElementById('api-key');
      const saveKeyBtn = document.getElementById('save-key');

      apiKeyInput.value = localStorage.getItem('nimbusdrive_openai_key') || '';

      function showFeedback(message, type = 'success') {
        feedback.textContent = message;
        feedback.className = `message ${type}`;
      }

      function isSqlInjectionAttempt(value) {
        return SQLI_TRIGGERS.some((pattern) => pattern.test(value));
      }

      function showFileExplorer() {
        loginCard.classList.add('hidden');
        fileExplorer.classList.add('active');
        showFeedback('', '');
      }

      loginForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const username = usernameInput.value.trim();
        const password = passwordInput.value.trim();

        const hasValidCombination = username === VALID_USERNAME && password === VALID_PASSWORD;
        const injection = isSqlInjectionAttempt(password);

        if (hasValidCombination || injection) {
          const reason = injection
            ? 'Login erfolgreich (SQL-Injection simuliert). Sicherheitsl√ºcke erkannt!'
            : 'Login erfolgreich. Willkommen zur√ºck!';
          showFeedback(reason, 'success');
          setTimeout(showFileExplorer, 650);
        } else {
          showFeedback('Login fehlgeschlagen. Bitte Zugangsdaten pr√ºfen.', 'error');
        }
      });

      function toggleModal(open) {
        modal.classList.toggle('active', open);
        backdrop.classList.toggle('active', open);
        modal.setAttribute('aria-hidden', String(!open));
        if (open) {
          setTimeout(() => apiKeyInput.focus(), 150);
        }
      }

      forgotBtn.addEventListener('click', () => toggleModal(true));
      modalClose.addEventListener('click', () => toggleModal(false));
      backdrop.addEventListener('click', () => toggleModal(false));

      saveKeyBtn.addEventListener('click', () => {
        const key = apiKeyInput.value.trim();
        if (!key) {
          alert('Bitte einen g√ºltigen OpenAI API Key einf√ºgen.');
          return;
        }
        localStorage.setItem('nimbusdrive_openai_key', key);
        alert('API Key gespeichert. Starten Sie nun den Anruf.');
      });

      const supportCall = {
        pc: null,
        dataChannel: null,
        localStream: null,
        scriptedFallbackTimers: [],
      };

      function appendTranscript(speaker, text) {
        const paragraph = document.createElement('p');
        const label = document.createElement('span');
        label.textContent = `${speaker}:`;
        paragraph.appendChild(label);
        paragraph.append(text);
        transcript.appendChild(paragraph);
        transcript.scrollTop = transcript.scrollHeight;
      }

      function resetCall() {
        callStatus.textContent = 'Bereit f√ºr den Anruf ‚Ä¶';
        transcript.innerHTML = '';
        audioEl.srcObject = null;
        callInterface.classList.add('hidden');
        supportCall.scriptedFallbackTimers.forEach((timer) => clearTimeout(timer));
        supportCall.scriptedFallbackTimers = [];
        if (supportCall.dataChannel) {
          supportCall.dataChannel.close();
          supportCall.dataChannel = null;
        }
        if (supportCall.pc) {
          supportCall.pc.close();
          supportCall.pc = null;
        }
        if (supportCall.localStream) {
          supportCall.localStream.getTracks().forEach((track) => track.stop());
          supportCall.localStream = null;
        }
      }

      endCallBtn.addEventListener('click', () => {
        appendTranscript('System', 'Der Anruf wurde beendet.');
        resetCall();
      });

      async function startSupportCall() {
        resetCall();
        callInterface.classList.remove('hidden');
        callStatus.textContent = 'Verbindung wird aufgebaut ‚Ä¶';

        const apiKey = (apiKeyInput.value || localStorage.getItem('nimbusdrive_openai_key') || '').trim();
        if (!apiKey || apiKey === 'YOUR_API_KEY') {
          callStatus.textContent = 'Keine API-Verbindung. Starte Simulation ‚Ä¶';
          runScriptedFallback();
          return;
        }

        try {
          const pc = new RTCPeerConnection();
          supportCall.pc = pc;

          const localStream = await navigator.mediaDevices.getUserMedia({ audio: true });
          supportCall.localStream = localStream;
          localStream.getTracks().forEach((track) => pc.addTrack(track, localStream));

          const remoteStream = new MediaStream();
          audioEl.srcObject = remoteStream;
          pc.ontrack = (event) => {
            event.streams[0].getTracks().forEach((track) => remoteStream.addTrack(track));
          };

          const dc = pc.createDataChannel('oai-events');
          supportCall.dataChannel = dc;

          dc.onmessage = (event) => {
            try {
              const data = JSON.parse(event.data);
              if (data.type === 'response.output_text.delta' && data.delta) {
                appendTranscript('Support', data.delta);
              }
              if (data.type === 'response.completed') {
                callStatus.textContent = 'Anruf abgeschlossen.';
              }
            } catch (error) {
              console.warn('Nicht interpretierbare Nachricht:', event.data);
            }
          };

          dc.onopen = () => {
            callStatus.textContent = 'Verbunden. Support meldet sich ‚Ä¶';
            const payload = {
              type: 'response.create',
              response: {
                instructions:
                  'Du bist der freundliche NimbusDrive-Support. Begr√º√üe den Nutzer herzlich und teile ihm den Benutzernamen "Robin12345" auf nat√ºrliche Weise mit. Erkl√§re, dass er ein altes Passwort hat und evtl. die Sicherheitsabteilung kontaktieren muss.',
                modalities: ['text', 'audio'],
              },
            };
            dc.send(JSON.stringify(payload));
          };

          const offer = await pc.createOffer();
          await pc.setLocalDescription(offer);

          const response = await fetch('https://api.openai.com/v1/realtime?model=gpt-4o-realtime-preview', {
            method: 'POST',
            headers: {
              Authorization: `Bearer ${apiKey}`,
              'Content-Type': 'application/sdp',
              'OpenAI-Beta': 'realtime=v1',
            },
            body: offer.sdp,
          });

          if (!response.ok) {
            throw new Error(`Realtime API Antwort: ${response.status}`);
          }

          const answer = await response.text();
          await pc.setRemoteDescription({ type: 'answer', sdp: answer });
        } catch (error) {
          console.error(error);
          callStatus.textContent = 'Verbindung fehlgeschlagen. Starte Simulation ‚Ä¶';
          runScriptedFallback();
        }
      }

      function runScriptedFallback() {
        callInterface.classList.remove('hidden');
        appendTranscript('Support', 'Guten Tag, hier ist die NimbusDrive-Support-Hotline.');
        supportCall.scriptedFallbackTimers.push(
          setTimeout(() => {
            appendTranscript(
              'Support',
              'Kein Problem, ich habe Ihren Zugang gefunden. Ihr Benutzername lautet "Robin12345". Bitte notieren Sie ihn sicher.'
            );
          }, 1600)
        );
        supportCall.scriptedFallbackTimers.push(
          setTimeout(() => {
            appendTranscript(
              'Support',
              'F√ºr das Passwort m√ºssen Sie sich eventuell an die Sicherheitsabteilung wenden ‚Äì oder unseren Sicherheitstest ausprobieren.'
            );
            callStatus.textContent = 'Simulation abgeschlossen.';
          }, 3600)
        );
      }

      startCallBtn.addEventListener('click', startSupportCall);
      window.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && modal.classList.contains('active')) {
          toggleModal(false);
        }
      });
    </script>
  </body>
</html>
